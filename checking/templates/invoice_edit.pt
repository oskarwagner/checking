<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="layout"
      tal:define="">
  <head>
    <metal:title fill-slot="title">Draft invoice — ${context.customer.title} — Customers</metal:title>
  </head>
  <body>
    <metal:content fill-slot="content">
      <h1>Invoice ${context.number}</h1>

      <form method="post" tal:define="form view.form">
        <fieldset class="concise">
          <label tal:define="field form.get_field('payment_term')">Payment term <sup class="required">*</sup>
            <input type="text" size="4" maxlength="2" name="payment_term"/> <em
              class="message warning" tal:condition="field.error">${field.error}</em></label>
        </fieldset>

        <table>
          <thead>
            <tr>
              <th>Description</th>
              <th>VAT</th>
              <th>Unit price</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody class="orderable">
            <tr tal:repeat="prefix form.keys('entries')">
              <td><input type="hidden" tal:define="field form.get_field(prefix, 'id')"
                name="${prefix}.id" value="${field.value[0]}"/>
                <label class="superImpose" for="${prefix}.description">Description of the work or expense.</label>
                <textarea rows="2" cols="30" tal:define="field form.get_field(prefix, 'description')"
                  name="${prefix}.description" id="${prefix}.description">${field.value[0]}</textarea></td>
              <td tal:define="field form.get_field(prefix, 'vat')">
                <label class="superImpose" for="${prefix}.vat">VAT</label>
                <input type="text" id="${prefix}.vat" name="${prefix}.vat" maxlength="2" size="2" value="${field.value[0]}"/>%</td>
              <td><select tal:define="field form.get_field(prefix, 'currency_code')" name="${prefix}.currency_code">
                  <option tal:repeat="currency tools.currencies()"
                    value="${currency.code}">${currency.code}</option>
                </select>
                <label class="superImpose" for="${prefix}.unit_price">Unit price</label>
                <input tal:define="field form.get_field(prefix, 'unit_price')" type="text" size="7"
                name="${prefix}.unit_price" id="${prefix}.unit_price" value="${field.value[0]}"/>
              </td>
              <td tal:define="field form.get_field(prefix, 'units')">
                <label class="superImpose" for="${prefix}.units">Units</label>
                <input type="text" size="4" name="${prefix}.units" id="${prefix}.units" value="${field.value[0]}"/>
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr>
              <th>Total</th>
              <th class="currency">${formatter.currency(0.00, 'EUR')}</th>
            </tr>
          </tfoot>
        </table>
      </form>
    </metal:content>
    <script type="text/javascript" metal:fill-slot="scripts">
      $(document).ready(function() {
          $(".orderable").sortable({axis: "y"});
      });
    </script>
  </body>
</html>

